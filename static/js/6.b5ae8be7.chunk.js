(this["webpackJsonpweather-app-react"]=this["webpackJsonpweather-app-react"]||[]).push([[6],{268:function(e,t,a){"use strict";a.r(t);var n=a(174),r=a.n(n),i=a(6),c=a(24),s=a(175),o=a(0),l=a.n(o),d=a(50),p=a(12),j=a(17),u=a(160),h=a(127),m=a(42),x=a(2);var b=function(e){var t=e.stationData,a=Object(o.useContext)(d.b),n=Object(c.a)(a,1)[0],r=Object(j.a)(),i=Object(u.a)(r.breakpoints.down("xs")),s=new Date(1e3*(t.current.dt+t.timezone_offset)).toLocaleString("en-GB",{hour:"numeric",minute:"numeric",hourCycle:"h23"}),l=t.timezone_offset/3600;return Object(x.jsxs)(h.a,{elevation:4,style:{padding:r.spacing(2)},children:[Object(x.jsxs)(m.a,{color:"textPrimary",style:{marginBottom:5},component:"h1",variant:"h4",children:[t.city,", ",t.country]}),Object(x.jsxs)(m.a,{color:"textSecondary",component:"p",variant:"caption",children:[t.lat,", ",t.lon]}),Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:5},children:[Object(x.jsxs)("div",{children:[Object(x.jsx)(m.a,{color:"textPrimary",component:"p",variant:"h2",children:"c"===n.temperature?Math.round(t.current.temp-273.15)+"\xb0C":"k"===n.temperature?Math.round(t.current.temp)+"K":Math.round(9*t.current.temp/5-459.67)+"\xb0F"}),Object(x.jsx)(m.a,{color:"textPrimary",style:{textTransform:"capitalize"},variant:"h5",component:"p",children:t.current.weather[0].description})]}),Object(x.jsx)("img",{style:{height:i?72:100,backgroundColor:"dark"===r.palette.type?"#5072A7":"#7CB9E8",borderRadius:20},alt:"icon",src:"https://openweathermap.org/img/wn/".concat(t.current.weather[0].icon,"@2x.png")})]}),Object(x.jsxs)(m.a,{color:"textSecondary",component:"p",variant:"caption",children:["As of ",s," UTC ",l>0?"+".concat(l):l]})]})},y=a(259),O=a(260),f=a(261),g=a(262),w=a(22),v=a(172);function C(e,t,a,n){parseFloat(window.getComputedStyle(t.current).width)-parseFloat(window.getComputedStyle(e.current).width)<10?n((function(e){return 1===e?e:e-1})):1===a.current?parseFloat(window.getComputedStyle(t.current).width)-parseFloat(window.getComputedStyle(e.current).width)>150&&n((function(e){return e+1})):2===a.current?parseFloat(window.getComputedStyle(t.current).width)-parseFloat(window.getComputedStyle(e.current).width)>100&&n((function(e){return e+1})):parseFloat(window.getComputedStyle(t.current).width)-parseFloat(window.getComputedStyle(e.current).width)>65&&n((function(e){return e+1}))}var k=function(e){var t=e.stationData,a=Object(o.useState)(1),n=Object(c.a)(a,2),r=n[0],i=n[1],s=Object(o.useRef)(r);s.current=r;var l=Object(j.a)(),u=Object(o.useRef)(),b=Object(o.useRef)();Object(o.useEffect)((function(){C(u,b,s,i)}),[r]),Object(o.useEffect)((function(){function e(){C(u,b,s,i)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var k=Object(p.h)().path,M=Object(o.useState)(null),S=Object(c.a)(M,2),D=S[0],I=S[1],N=Object(o.useContext)(d.b),R=Object(c.a)(N,1)[0];return Object(x.jsxs)(x.Fragment,{children:[D,Object(x.jsxs)(y.a,{elevation:4,style:{marginTop:l.spacing(4)},children:[Object(x.jsx)(O.a,{title:"Hourly Forecast"}),Object(x.jsx)(f.a,{elevation:4,style:{display:"flex"},children:t.hourly.slice(1,r+1).map((function(e,a){var n=new Date(1e3*(e.dt+t.timezone_offset)).toLocaleString("en-GB",{hour:"numeric",minute:"numeric",hourCycle:"h23"});return Object(x.jsx)("div",{ref:0===a?b:null,style:{flexGrow:"1",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(x.jsxs)(h.a,{ref:0===a?u:null,variant:"outlined",style:{display:"inline-flex",alignItems:"center",width:130,padding:"".concat(l.spacing(1),"px ").concat(l.spacing(1),"px"),flexDirection:"column",justifyContent:"center"},children:[Object(x.jsx)(m.a,{variant:"h6",component:"p",children:n}),Object(x.jsx)(m.a,{variant:"h4",component:"p",style:{margin:"".concat(l.spacing(1),"px 0px")},children:"c"===R.temperature?Math.round(e.temp-273.15)+"\xb0C":"k"===R.temperature?Math.round(e.temp)+"K":Math.round(9*e.temp/5-459.67)+"\xb0F"}),Object(x.jsx)("img",{style:{margin:"".concat(l.spacing(1),"px 0px"),height:32,width:50,objectFit:"cover",backgroundColor:"dark"===l.palette.type?"#909090":"#DCDCDC",borderRadius:8},alt:"icon",src:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png")}),Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)(v.a,{width:20}),Object(x.jsxs)(m.a,{variant:"h6",component:"p",children:["\xa0",Math.round(100*e.pop),"%"]})]})]})},a)}))}),Object(x.jsx)(g.a,{children:Object(x.jsx)(w.a,{onClick:function(){return I(Object(x.jsx)(p.a,{push:!0,to:"".concat(k,"/hourly")}))},color:"primary",children:"Next 48 Hours"})})]})]})},M=a(76),S=a(123),D=Object(S.a)((function(e){return{medium:Object(M.a)({fontSize:e.typography.pxToRem(18)},e.breakpoints.down("xs"),{fontSize:e.typography.pxToRem(15)}),small:Object(M.a)({fontSize:e.typography.pxToRem(15)},e.breakpoints.down("xs"),{fontSize:e.typography.pxToRem(12)})}}));function I(e,t,a,n){parseFloat(window.getComputedStyle(t.current).width)-parseFloat(window.getComputedStyle(e.current).width)<10?n((function(e){return 1===e?e:e-1})):1===a.current?parseFloat(window.getComputedStyle(t.current).width)-parseFloat(window.getComputedStyle(e.current).width)>150&&n((function(e){return e+1})):2===a.current?parseFloat(window.getComputedStyle(t.current).width)-parseFloat(window.getComputedStyle(e.current).width)>100&&n((function(e){return e+1})):parseFloat(window.getComputedStyle(t.current).width)-parseFloat(window.getComputedStyle(e.current).width)>65&&n((function(e){return e+1}))}var N=function(e){var t=e.stationData,a=D(),n=Object(o.useState)(1),r=Object(c.a)(n,2),i=r[0],s=r[1],l=Object(o.useRef)(i);l.current=i;var u=Object(j.a)(),b=Object(o.useRef)(),C=Object(o.useRef)();Object(o.useEffect)((function(){I(b,C,l,s)}),[i]),Object(o.useEffect)((function(){function e(){I(b,C,l,s)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var k=Object(p.h)().path,M=Object(o.useState)(null),S=Object(c.a)(M,2),N=S[0],R=S[1],F=Object(o.useContext)(d.b),T=Object(c.a)(F,1)[0];return Object(x.jsxs)(x.Fragment,{children:[N,Object(x.jsxs)(y.a,{elevation:4,style:{marginTop:u.spacing(4)},children:[Object(x.jsx)(O.a,{title:"Daily Forecast"}),Object(x.jsx)(f.a,{elevation:4,style:{display:"flex"},children:t.daily.slice(1,i+1).map((function(e,n){var r=new Date(1e3*(e.dt+t.timezone_offset)).toLocaleString("en-GB",{weekday:"short",day:"2-digit"});return Object(x.jsx)("div",{ref:0===n?C:null,style:{flexGrow:"1",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(x.jsxs)(h.a,{ref:0===n?b:null,variant:"outlined",style:{display:"inline-flex",alignItems:"center",width:130,padding:"".concat(u.spacing(1),"px ").concat(u.spacing(1),"px"),flexDirection:"column",justifyContent:"center"},children:[Object(x.jsx)(m.a,{variant:"h6",component:"p",children:r}),Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)(m.a,{variant:"h5",component:"p",style:{margin:"".concat(u.spacing(1),"px 0px")},children:"c"===T.temperature?Math.round(e.temp.day-273.15)+"\xb0C":"k"===T.temperature?Math.round(e.temp.day)+"K":Math.round(9*e.temp.day/5-459.67)+"\xb0F"}),Object(x.jsx)(m.a,{className:a.medium,children:"\xa0/\xa0"}),Object(x.jsx)(m.a,{className:a.small,children:"c"===T.temperature?Math.round(e.temp.night-273.15)+"\xb0C":"k"===T.temperature?Math.round(e.temp.night)+"K":Math.round(9*e.temp.night/5-459.67)+"\xb0F"})]}),Object(x.jsx)("img",{style:{margin:"".concat(u.spacing(1),"px 0px"),height:32,width:50,objectFit:"cover",backgroundColor:"dark"===u.palette.type?"#909090":"#DCDCDC",borderRadius:8},alt:"icon",src:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png")}),Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)(v.a,{width:20}),Object(x.jsxs)(m.a,{variant:"h6",component:"p",children:["\xa0",Math.round(100*e.pop),"%"]})]})]})},n)}))}),Object(x.jsx)(g.a,{children:Object(x.jsx)(w.a,{onClick:function(){return R(Object(x.jsx)(p.a,{push:!0,to:"".concat(k,"/daily")}))},color:"primary",children:"Next 7 Days"})})]})]})},R=a(225),F=a(226);var T=function(e){var t=e.sunriseInUnix,a=e.sunsetInUnix,n=e.timezone_offset,r=e.currentTime,i=Object(o.useRef)(),c=Object(o.useRef)(),s=Object(o.useRef)(),l=Object(o.useRef)(),d=Object(j.a)(),p=Object(u.a)(d.breakpoints.down("xs")),b=Object(o.useRef)(d);b.current=d,Object(o.useEffect)((function(){!function(e,t,a){e.width=a*t.offsetWidth,e.height=.4*e.width,e.style.width="".concat(e.width/a,"px"),e.style.height="".concat(e.height/a,"px")}(c.current,i.current,2),s.current.style.width=i.current.offsetWidth/6,l.current.style.width=i.current.offsetWidth/6}),[p]);var y=Object(o.useRef)(!0);function O(){!function(e,t,a,n,r){if(e){var i=e.getContext("2d");i.clearRect(0,0,e.width,e.height),i.lineCap="round",i.lineWidth=e.width/20,i.beginPath(),i.arc(e.width/2,23*e.height/24,e.width/3,-Math.PI,0),i.strokeStyle="dark"===r.palette.type?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.2)",i.stroke();var c=(n-t)/(a-t);c=c>1?1:c,i.lineWidth=e.width/40,i.beginPath(),c>1/90&&i.arc(e.width/2,23*e.height/24,e.width/3,-Math.PI+Math.PI/180,-Math.PI+Math.PI*c-Math.PI/180);var s=i.createLinearGradient(0,0,Math.PI*e.width/3,0);s.addColorStop(0,"rgba(238,118,0, 0.8)"),s.addColorStop(.5,"rgba(255,244,79, 0.8)"),s.addColorStop(1,"rgba(0,33,71, 0.8)"),i.strokeStyle=s,i.stroke()}}(c.current,t,a,r,b.current),y.current&&requestAnimationFrame(O)}Object(o.useEffect)((function(){return O(),function(){y.current=!1}}),[]);var f=new Date(1e3*(t+n)).toLocaleString("en-GB",{hour:"numeric",minute:"numeric",hourCycle:"h23"}),g=new Date(1e3*(a+n)).toLocaleString("en-GB",{hour:"numeric",minute:"numeric",hourCycle:"h23"});return Object(x.jsxs)(h.a,{variant:"outlined",style:{padding:d.spacing(1),width:p?137:150,height:p?110:120,display:"flex",flexDirection:"column"},children:[Object(x.jsx)("div",{ref:i,children:Object(x.jsx)("canvas",{ref:c})}),Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginLeft:p?0:2},children:[Object(x.jsx)(R.a,{ref:s}),Object(x.jsx)(m.a,{children:f})]}),Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginRight:p?0:2},children:[Object(x.jsx)(F.a,{ref:l}),Object(x.jsx)(m.a,{children:g})]})]})]})},z=a(102),_=a(128),L=a(48),E=a(49),P=a(66),W=a(227),V=a(233),G=a(232),B=a(231),K=a(230),A=a(229),H=a(228),U=Object(S.a)((function(e){return{listItem:{paddingLeft:8},list:{padding:0},medium:{fontSize:e.typography.pxToRem(14),color:e.palette.text.primary},small:{fontSize:e.typography.pxToRem(12),color:e.palette.text.primary}}}));var q=function(e){var t=e.stationData,a=U(),n=Object(o.useContext)(d.b),r=Object(c.a)(n,1)[0],i=Object(j.a)();return Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:[Object(x.jsxs)(z.a,{className:a.list,style:{minWidth:200,margin:"0px ".concat(i.spacing(2),"px"),flexGrow:"1"},children:[Object(x.jsx)(_.a,{}),Object(x.jsxs)(L.a,{className:a.listItem,children:[Object(x.jsx)(E.a,{children:Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)(W.a,{width:22}),Object(x.jsxs)(m.a,{children:["\xa0\xa0","Day/Night"]})]})}),Object(x.jsx)(P.a,{children:Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)(m.a,{children:"c"===r.temperature?Math.round(t.daily[0].temp.day-273.15)+"\xb0C":"k"===r.temperature?Math.round(t.daily[0].temp.day)+"K":Math.round(9*t.daily[0].temp.day/5-459.67)+"\xb0F"}),Object(x.jsx)(m.a,{className:a.medium,children:"\xa0/\xa0"}),Object(x.jsx)(m.a,{className:a.small,children:"c"===r.temperature?Math.round(t.daily[0].temp.night-273.15)+"\xb0C":"k"===r.temperature?Math.round(t.daily[0].temp.night)+"K":Math.round(9*t.daily[0].temp.night/5-459.67)+"\xb0F"})]})})]}),Object(x.jsx)(_.a,{}),Object(x.jsxs)(L.a,{className:a.listItem,children:[Object(x.jsx)(E.a,{children:Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)(v.a,{width:25,style:{marginLeft:-3}}),Object(x.jsxs)(m.a,{children:["\xa0\xa0","Precipitation"]})]})}),Object(x.jsx)(P.a,{children:Object(x.jsx)(m.a,{children:Math.round(100*t.daily[0].pop)+"%"})})]}),Object(x.jsx)(_.a,{}),Object(x.jsxs)(L.a,{className:a.listItem,children:[Object(x.jsx)(E.a,{children:Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)(H.a,{width:22}),Object(x.jsxs)(m.a,{children:["\xa0\xa0","Pressure"]})]})}),Object(x.jsx)(P.a,{children:Object(x.jsx)(m.a,{children:"hpa"===r.pressure?t.daily[0].pressure+" hPa":"atm"===r.pressure?Math.round(1e3*t.daily[0].pressure/1013.2501)/1e3+" atm":Math.round(100*t.daily[0].pressure/33.86)/100+" inHg"})})]}),Object(x.jsx)(_.a,{}),Object(x.jsxs)(L.a,{className:a.listItem,children:[Object(x.jsx)(E.a,{children:Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)(A.a,{width:22}),Object(x.jsxs)(m.a,{children:["\xa0\xa0","Visibility"]})]})}),Object(x.jsx)(P.a,{children:Object(x.jsx)(m.a,{children:t.current.visibility>=1e4?"m"===r.distance?">"+t.current.visibility+"m":"km"===r.distance?">"+Math.round(10*t.current.visibility/1e3)/10+"km":">"+Math.round(10*t.current.visibility/1609)/10+"mi":"m"===r.distance?t.current.visibility+"m":"km"===r.distance?Math.round(10*t.current.visibility/1e3)/10+"km":Math.round(10*t.current.visibility/1609)/10+"mi"})})]})]}),Object(x.jsxs)(z.a,{className:a.list,style:{minWidth:200,margin:"0px ".concat(i.spacing(2),"px"),flexGrow:"1"},children:[Object(x.jsx)(_.a,{}),Object(x.jsxs)(L.a,{className:a.listItem,children:[Object(x.jsx)(E.a,{children:Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)(K.a,{width:22}),Object(x.jsxs)(m.a,{children:["\xa0\xa0","Dew Point"]})]})}),Object(x.jsx)(P.a,{children:Object(x.jsx)(m.a,{children:"c"===r.temperature?Math.round(t.daily[0].dew_point-273.15)+"\xb0C":"k"===r.temperature?Math.round(t.daily[0].dew_point)+"K":Math.round(9*t.daily[0].dew_point/5-459.67)+"\xb0F"})})]}),Object(x.jsx)(_.a,{}),Object(x.jsxs)(L.a,{className:a.listItem,children:[Object(x.jsx)(E.a,{children:Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)(B.a,{width:22}),Object(x.jsxs)(m.a,{children:["\xa0\xa0","UV Index"]})]})}),Object(x.jsx)(P.a,{children:Object(x.jsx)(m.a,{children:t.daily[0].uvi})})]}),Object(x.jsx)(_.a,{}),Object(x.jsxs)(L.a,{className:a.listItem,children:[Object(x.jsx)(E.a,{children:Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)(G.a,{width:22}),Object(x.jsxs)(m.a,{children:["\xa0\xa0","Wind Speed"]})]})}),Object(x.jsx)(P.a,{children:Object(x.jsx)(m.a,{children:"ms"===r.speed?Math.round(10*t.daily[0].wind_speed)/10+"m/s":"kph"===r.speed?Math.round(3.6*t.daily[0].wind_speed*10)/10+"kph":Math.round(2.237*t.daily[0].wind_speed*10)/10+"mph"})})]}),Object(x.jsx)(_.a,{}),Object(x.jsxs)(L.a,{className:a.listItem,children:[Object(x.jsx)(E.a,{children:Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)(V.a,{width:22}),Object(x.jsxs)(m.a,{children:["\xa0\xa0","Wind Direction"]})]})}),Object(x.jsx)(P.a,{children:Object(x.jsxs)(m.a,{children:[t.daily[0].wind_deg,"\xb0"]})})]})]})]})};var J=function(e){var t=e.stationData,a=Object(o.useContext)(d.b),n=Object(c.a)(a,1)[0],r=Object(j.a)();return Object(x.jsxs)(h.a,{elevation:4,style:{marginTop:r.spacing(4),paddingBottom:r.spacing(1)},children:[Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:r.spacing(2),padding:r.spacing(2)},children:[Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",marginRight:20},children:[Object(x.jsxs)(m.a,{variant:"h6",component:"p",children:["Weather Today in ",t.city,", ",t.country]}),Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:10},children:[Object(x.jsx)(m.a,{variant:"h3",component:"p",children:"c"===n.temperature?Math.round(t.current.feels_like-273.15)+"\xb0C":"k"===n.temperature?Math.round(t.current.feels_like)+"K":Math.round(9*t.current.feels_like/5-459.67)+"\xb0F"}),Object(x.jsx)(m.a,{color:"textSecondary",variant:"h6",component:"p",children:"Feels Like"})]})]}),Object(x.jsx)(T,{sunriseInUnix:t.current.sunrise,sunsetInUnix:t.current.sunset,timezone_offset:t.timezone_offset,currentTime:t.current.dt})]}),Object(x.jsx)(q,{stationData:t})]})};var Y=function(e){var t=e.stationData,a=e.setTabSelected;return Object(o.useEffect)((function(){a(0)}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b,{stationData:t}),Object(x.jsx)(J,{stationData:t}),Object(x.jsx)(k,{stationData:t}),Object(x.jsx)(N,{stationData:t})]})},X=a(271),Q=a(263),Z=a(264),$=a(191),ee=a.n($),te=Object(S.a)((function(e){return{parameterName:{color:e.palette.text.secondary},parameterValue:{color:e.palette.text.primary}}}));var ae=function(e){var t=e.parameterName,a=e.parameterValue,n=te();return Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:125},children:[Object(x.jsx)(m.a,{className:n.parameterName,children:t}),Object(x.jsx)(m.a,{className:n.parameterValue,variant:"h5",component:"p",children:a})]})},ne=Object(S.a)((function(e){return{root:{width:"100%"},header:Object(M.a)({fontSize:e.typography.pxToRem(18),color:e.palette.text.primary},e.breakpoints.down("xs"),{fontSize:e.typography.pxToRem(15)}),headerLarge:Object(M.a)({fontSize:e.typography.pxToRem(21),fontWeight:"500",color:e.palette.text.primary},e.breakpoints.down("xs"),{fontSize:e.typography.pxToRem(18)}),headerMedium:Object(M.a)({fontSize:e.typography.pxToRem(18),fontWeight:"500",color:e.palette.text.primary},e.breakpoints.down("xs"),{fontSize:e.typography.pxToRem(15)}),summaryContent:{justifyContent:"space-between",alignItems:"center"},summaryRoot:Object(M.a)({},e.breakpoints.down("xs"),{padding:"0"}),accordionExpandButton:{padding:4,marginRight:-4}}}));var re=function(e){var t=e.stationData,a=e.setTabSelected;Object(o.useEffect)((function(){a(1)}),[]);var n,r=Object(o.useContext)(d.b),i=Object(c.a)(r,1)[0],s=Object(j.a)(),p=Object(u.a)(s.breakpoints.down("xs")),y=ne(),O=Object(o.useState)(!1),f=Object(c.a)(O,2),g=f[0],w=f[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b,{stationData:t}),Object(x.jsx)(h.a,{elevation:4,style:{marginTop:s.spacing(4),padding:s.spacing(2)},className:y.root,children:t.hourly.slice(1).map((function(e,a){var r=new Date(1e3*(e.dt+t.timezone_offset)),c=r.toLocaleString("en-GB",{hour:"numeric",minute:"numeric",hourCycle:"h23"}),o=r.toLocaleString("en-GB",{weekday:"long"}),d=!(n===o);n=o;var j,u=r.toLocaleString("en-GB",{weekday:"long",day:"2-digit",month:"long"});return Object(x.jsxs)(l.a.Fragment,{children:[d&&Object(x.jsx)(m.a,{style:{margin:s.spacing(2)},component:"p",variant:"h6",children:u}),Object(x.jsxs)(X.a,{TransitionProps:{unmountOnExit:!0},elevation:0,expanded:g===a,onChange:(j=a,function(e,t){w(!!t&&j)}),children:[Object(x.jsxs)(Q.a,{classes:{content:y.summaryContent,root:y.summaryRoot,expandIcon:y.accordionExpandButton},expandIcon:Object(x.jsx)(ee.a,{}),children:[Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)(m.a,{style:{marginRight:p?"8vw":60},className:y.header,children:c}),Object(x.jsx)(m.a,{className:y.headerLarge,children:"c"===i.temperature?Math.round(e.temp-273.15)+"\xb0C":"k"===i.temperature?Math.round(e.temp)+"K":Math.round(9*e.temp/5-459.67)+"\xb0F"})]}),Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexBasis:p?"16.66%":"40%"},children:[Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center",marginRight:p?"1vw":12},children:[Object(x.jsx)(v.a,{width:20,style:{marginRight:-2}}),Object(x.jsxs)(m.a,{className:y.headerMedium,variant:"h6",component:"p",children:["\xa0",Math.round(100*e.pop),"%"]})]}),Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center",width:p?"16vw":"min(25vw, 200px)"},children:[Object(x.jsx)("img",{style:{flexShrink:"0",height:32,width:50,objectFit:"cover",backgroundColor:"dark"===s.palette.type?"#909090":"#DCDCDC",borderRadius:8},alt:"icon",src:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png")}),p||Object(x.jsx)(m.a,{style:{textTransform:"capitalize",marginLeft:10},className:y.header,children:e.weather[0].description})]})]})]}),Object(x.jsx)(Z.a,{children:Object(x.jsxs)(h.a,{variant:"outlined",style:{width:"100%",padding:"5px 20px"},children:[Object(x.jsxs)("div",{style:{display:"flex",width:"100%",flexWrap:"wrap"},children:[Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",flexGrow:"1",margin:"5px 0 5px"},children:[Object(x.jsx)(ae,{parameterName:"Feels Like",parameterValue:"c"===i.temperature?Math.round(e.feels_like-273.15)+"\xb0C":"k"===i.temperature?Math.round(e.feels_like)+"K":Math.round(9*e.feels_like/5-459.67)+"\xb0F"}),Object(x.jsx)(ae,{parameterName:"Precipitation",parameterValue:Math.round(100*e.pop)+"%"})]}),Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",flexGrow:"1",margin:"5px 0 5px"},children:[Object(x.jsx)(ae,{parameterName:"Humidity",parameterValue:e.humidity+"%"}),Object(x.jsx)(ae,{parameterName:"Pressure",parameterValue:"hpa"===i.pressure?e.pressure+" hPa":"atm"===i.pressure?Math.round(1e3*e.pressure/1013.2501)/1e3+" atm":Math.round(100*e.pressure/33.86)/100+" inHg"})]})]}),Object(x.jsx)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"}}),Object(x.jsxs)("div",{style:{display:"flex",width:"100%",flexWrap:"wrap"},children:[Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",flexGrow:"1",margin:"5px 0 5px"},children:[Object(x.jsx)(ae,{parameterName:"Visibility",parameterValue:e.visibility>=1e4?"m"===i.distance?">"+e.visibility+"m":"km"===i.distance?">"+Math.round(10*e.visibility/1e3)/10+"km":">"+Math.round(10*e.visibility/1609)/10+"mi":"m"===i.distance?e.visibility+"m":"km"===i.distance?Math.round(10*e.visibility/1e3)/10+"km":Math.round(10*e.visibility/1609)/10+"mi"}),Object(x.jsx)(ae,{parameterName:"Clouds",parameterValue:e.clouds+"%"})]}),Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",flexGrow:"1",margin:"5px 0 5px"},children:[Object(x.jsx)(ae,{parameterName:"Wind Speed",parameterValue:"ms"===i.speed?Math.round(10*e.wind_speed)/10+"m/s":"kph"===i.speed?Math.round(3.6*e.wind_speed*10)/10+"kph":Math.round(2.237*e.wind_speed*10)/10+"mph"}),Object(x.jsx)(ae,{parameterName:"Wind Direction",parameterValue:e.wind_deg+"\xb0"})]})]}),Object(x.jsx)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"}})]})})]})]},a)}))})]})},ie=Object(S.a)((function(e){return{root:{width:"100%"},headerDate:Object(M.a)({fontSize:e.typography.pxToRem(18),color:e.palette.text.primary},e.breakpoints.down("xs"),{fontSize:e.typography.pxToRem(15)}),headerSmall:Object(M.a)({fontSize:e.typography.pxToRem(15),color:e.palette.text.primary},e.breakpoints.down("xs"),{fontSize:e.typography.pxToRem(12)}),headerLarge:Object(M.a)({fontSize:e.typography.pxToRem(21),fontWeight:"500",color:e.palette.text.primary},e.breakpoints.down("xs"),{fontSize:e.typography.pxToRem(18)}),headerMedium:Object(M.a)({fontSize:e.typography.pxToRem(18),fontWeight:"500",color:e.palette.text.primary},e.breakpoints.down("xs"),{fontSize:e.typography.pxToRem(15)}),summaryContent:{justifyContent:"space-between",alignItems:"center"},summaryRoot:Object(M.a)({},e.breakpoints.down("xs"),{padding:"0"}),feelsLikeName:{color:e.palette.text.secondary},feelsLikeValueDay:{color:e.palette.text.primary},accordionExpandButton:{padding:4,marginRight:-4}}}));var ce=function(e){var t=e.stationData,a=e.setTabSelected;Object(o.useEffect)((function(){a(2)}),[]);var n=Object(o.useContext)(d.b),r=Object(c.a)(n,1)[0],i=Object(j.a)(),s=Object(u.a)(i.breakpoints.down("xs")),l=ie(),p=Object(o.useState)(!1),y=Object(c.a)(p,2),O=y[0],f=y[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b,{stationData:t}),Object(x.jsx)(h.a,{elevation:4,style:{marginTop:i.spacing(4),padding:i.spacing(2)},className:l.root,children:t.daily.map((function(e,a){var n,c=new Date(1e3*(e.dt+t.timezone_offset)).toLocaleString("en-GB",{weekday:"short",day:"2-digit"});return Object(x.jsxs)(X.a,{TransitionProps:{unmountOnExit:!0},elevation:0,expanded:O===a,onChange:(n=a,function(e,t){f(!!t&&n)}),children:[Object(x.jsxs)(Q.a,{classes:{content:l.summaryContent,root:l.summaryRoot,expandIcon:l.accordionExpandButton},expandIcon:Object(x.jsx)(ee.a,{}),children:[Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:s?"max(142px, 35vw)":"max(12vw, 150px)",alignItems:"center"},children:[Object(x.jsx)("div",{style:{width:s?55:80,flexShrink:"0"},children:Object(x.jsx)(m.a,{className:l.headerDate,children:c})}),Object(x.jsxs)("div",{style:{marginLeft:s?"1vw":10,width:s?80:100,flexShrink:"0",display:"flex",alignItems:"center"},children:[Object(x.jsx)(m.a,{className:l.headerLarge,children:"c"===r.temperature?Math.round(e.temp.day-273.15)+"\xb0C":"k"===r.temperature?Math.round(e.temp.day)+"K":Math.round(9*e.temp.day/5-459.67)+"\xb0F"}),Object(x.jsx)(m.a,{className:l.headerMedium,children:"\xa0/\xa0"}),Object(x.jsx)(m.a,{className:l.headerSmall,children:"c"===r.temperature?Math.round(e.temp.night-273.15)+"\xb0C":"k"===r.temperature?Math.round(e.temp.night)+"K":Math.round(9*e.temp.night/5-459.67)+"\xb0F"})]})]}),Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexBasis:s?"16.66%":"35%"},children:[Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center",marginRight:s?"1vw":12},children:[Object(x.jsx)(v.a,{width:20,style:{marginRight:-2}}),Object(x.jsxs)(m.a,{className:l.headerMedium,variant:"h6",component:"p",children:["\xa0",Math.round(100*e.pop),"%"]})]}),Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center",width:s?"16vw":"min(25vw, 200px)"},children:[Object(x.jsx)("img",{style:{flexShrink:"0",height:32,width:50,objectFit:"cover",backgroundColor:"dark"===i.palette.type?"#909090":"#DCDCDC",borderRadius:8},alt:"icon",src:"https://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png")}),s||Object(x.jsx)(m.a,{style:{textTransform:"capitalize",marginLeft:10},className:l.header,children:e.weather[0].description})]})]})]}),Object(x.jsx)(Z.a,{children:Object(x.jsxs)(h.a,{variant:"outlined",style:{width:"100%",padding:"5px 20px"},children:[Object(x.jsxs)("div",{style:{display:"flex",width:"100%",flexWrap:"wrap"},children:[Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",flexGrow:"1",margin:"5px 0 5px"},children:[Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:125},children:[Object(x.jsx)(m.a,{className:l.feelsLikeName,children:"Feels Like"}),Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(x.jsx)(m.a,{className:l.feelsLikeValueDay,variant:"h5",component:"p",children:"c"===r.temperature?Math.round(e.feels_like.day-273.15)+"\xb0C":"k"===r.temperature?Math.round(e.feels_like.day)+"K":Math.round(9*e.feels_like.day/5-459.67)+"\xb0F"}),Object(x.jsx)(m.a,{className:l.headerMedium,children:"\xa0/\xa0"}),Object(x.jsx)(m.a,{className:l.headerSmall,children:"c"===r.temperature?Math.round(e.feels_like.night-273.15)+"\xb0C":"k"===r.temperature?Math.round(e.feels_like.night)+"K":Math.round(9*e.feels_like.night/5-459.67)+"\xb0F"})]})]}),Object(x.jsx)(ae,{parameterName:"Precipitation",parameterValue:Math.round(100*e.pop)+"%"})]}),Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",flexGrow:"1",margin:"5px 0 5px"},children:[Object(x.jsx)(ae,{parameterName:"Humidity",parameterValue:e.humidity+"%"}),Object(x.jsx)(ae,{parameterName:"Pressure",parameterValue:"hpa"===r.pressure?e.pressure+" hPa":"atm"===r.pressure?Math.round(1e3*e.pressure/1013.2501)/1e3+" atm":Math.round(100*e.pressure/33.86)/100+" inHg"})]})]}),Object(x.jsx)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"}}),Object(x.jsxs)("div",{style:{display:"flex",width:"100%",flexWrap:"wrap"},children:[Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",flexGrow:"1",margin:"5px 0 5px"},children:[Object(x.jsx)(ae,{parameterName:"Dew Point",parameterValue:"c"===r.temperature?Math.round(e.dew_point-273.15)+"\xb0C":"k"===r.temperature?Math.round(e.dew_point)+"K":Math.round(9*e.dew_point/5-459.67)+"\xb0F"}),Object(x.jsx)(ae,{parameterName:"Clouds",parameterValue:e.clouds+"%"})]}),Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",flexGrow:"1",margin:"5px 0 5px"},children:[Object(x.jsx)(ae,{parameterName:"Wind Speed",parameterValue:"ms"===r.speed?Math.round(10*e.wind_speed)/10+"m/s":"kph"===r.speed?Math.round(3.6*e.wind_speed*10)/10+"kph":Math.round(2.237*e.wind_speed*10)/10+"mph"}),Object(x.jsx)(ae,{parameterName:"Wind Direction",parameterValue:e.wind_deg+"\xb0"})]})]}),Object(x.jsx)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"}})]})})]},a)}))})]})},se=a(251),oe=a(272),le=a(164),de=a(270),pe=a(138),je=a.n(pe);a(234);function ue(e,t,a,n,r){2===r&&(t=e),n.current.rotateTo((e-t)/450%360,{duration:0}),a.current&&requestAnimationFrame((function(e){return ue(e,t,a,n,r+1)}))}var he=function(e){var t=e.coords,a=Object(j.a)(),n=Object(o.useRef)(),r=Object(o.useRef)(),i=Object(o.useRef)(!0),s=Object(o.useContext)(d.a).API_KEY_MAPBOX,l=Object(u.a)(a.breakpoints.down("sm")),p=Object(o.useRef)(l);p.current=l;var m=Object(o.useState)(0),b=Object(c.a)(m,2),y=b[0],O=b[1];return Object(o.useEffect)((function(){function e(){var e=document.querySelector("#map");O(p.current?e.clientWidth/2:e.clientWidth),n.current.resize()}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(o.useEffect)((function(){var e;n.current?n.current.setStyle("dark"===a.palette.type?"mapbox://styles/mapbox/dark-v10":"mapbox://styles/mapbox/light-v10"):(je.a.accessToken=s,n.current=new je.a.Map({container:"map",style:"dark"===a.palette.type?"mapbox://styles/mapbox/dark-v10":"mapbox://styles/mapbox/light-v10",center:[t.lon,t.lat],zoom:10,pitch:45,bearing:0,attributionControl:!1}),n.current.on("load",(function(){ue(0,0,i,n,1);var e=document.querySelector("#map");O(p.current?e.clientWidth/2:e.clientWidth),n.current.resize()})),n.current.addControl(new je.a.NavigationControl({visualizePitch:!0}))),null===(e=r.current)||void 0===e||e.remove(),r.current=new je.a.Marker({color:a.palette.primary.main}).setLngLat([t.lon,t.lat]).addTo(n.current)}),[a]),Object(o.useEffect)((function(){return function(){return i.current=!1}}),[]),Object(x.jsx)(h.a,{elevation:4,id:"map",style:{width:"100%",height:y},onMouseDown:function(){return i.current=!1}})};function me(){return(me=Object(s.a)(r.a.mark((function e(t,a,n,c){var s,o,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/weather?id=".concat(t,"&appid=").concat(n));case 2:if((s=e.sent).ok){e.next=6;break}return c.push("/"),e.abrupt("return");case 6:return e.next=8,s.json();case 8:return o=e.sent,e.next=11,fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(o.coord.lat,"&lon=").concat(o.coord.lon,"&appid=").concat(n));case 11:return e.next=13,e.sent.json();case 13:l=e.sent,a(Object(i.a)(Object(i.a)({},l),{},{city:o.name,country:o.sys.country})),localStorage.setItem("id",t);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(e){var t=e.match,a=e.setTabSelected,n=Object(o.useState)(null),r=Object(c.a)(n,2),s=r[0],l=r[1],j=Object(o.useContext)(d.a).API_KEY_OPENWEATHERMAP,u=Object(o.useState)(!0),h=Object(c.a)(u,2),m=h[0],b=h[1],y=Object(p.g)();return Object(o.useEffect)((function(){!function(e,t,a,n){me.apply(this,arguments)}(t.params.id,l,j,y)}),[]),Object(x.jsxs)(x.Fragment,{children:[s&&Object(x.jsx)(se.a,{justify:"center",container:!0,style:{width:"100%",height:"100%",margin:"40px 0 20px"},children:Object(x.jsxs)(se.a,{container:!0,item:!0,xs:12,lg:8,alignItems:"flex-start",alignContent:"flex-start",spacing:4,children:[Object(x.jsx)(se.a,{item:!0,md:8,xs:12,children:Object(x.jsxs)(p.d,{children:[Object(x.jsx)(p.b,{exact:!0,path:"/".concat(t.params.id),render:function(e){return Object(x.jsx)(Y,Object(i.a)(Object(i.a)({setTabSelected:a},e),{},{stationData:s}))}}),Object(x.jsx)(p.b,{exact:!0,path:"/".concat(t.params.id,"/hourly"),render:function(e){return Object(x.jsx)(re,Object(i.a)(Object(i.a)({setTabSelected:a},e),{},{stationData:s}))}}),Object(x.jsx)(p.b,{exact:!0,path:"/".concat(t.params.id,"/daily"),render:function(e){return Object(x.jsx)(ce,Object(i.a)(Object(i.a)({setTabSelected:a},e),{},{stationData:s}))}}),Object(x.jsx)(p.b,{path:"*",render:function(){y.push("/"+t.params.id)}})]})}),Object(x.jsx)(se.a,{item:!0,md:4,xs:12,children:Object(x.jsx)(he,{coords:{lat:s.lat,lon:s.lon}})})]})}),s&&Object(x.jsx)(oe.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:m,autoHideDuration:1500,onClose:function(){return b(!1)},children:Object(x.jsx)(de.a,{elevation:4,variant:"filled",onClose:function(){return b(!1)},severity:"success",children:"Location Found"})}),s?null:Object(x.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},children:Object(x.jsx)(le.a,{})})]})}}}]);
//# sourceMappingURL=6.b5ae8be7.chunk.js.map